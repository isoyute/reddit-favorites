(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,r){},482:function(e,t,r){},483:function(e,t,r){},484:function(e,t,r){},485:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),s=r(19),i=r.n(s),a=r(13),o=r(10),j=function(){return Object(o.jsx)(a.Page.Header,{className:"header",children:Object(o.jsx)("h2",{children:"Reddit Favorites"})})},l=(r(139),function(){return Object(o.jsx)(a.Page.Footer,{className:"footer",children:Object(o.jsx)("p",{children:"Website create by Tudor Lupu"})})}),d=function(e){var t=e.children;return Object(o.jsxs)(a.Page,{size:"large",children:[Object(o.jsx)(j,{}),t,Object(o.jsx)(l,{})]})},u=r(20),b=r(64),h=r(40),O=r(128),f=r.n(O),p=(r(482),function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),r=t[0],n=t[1],s=Object(u.b)();return Object(o.jsx)(a.Row,{className:"search subreddit",children:Object(o.jsx)(a.Input,{value:r,onChange:function(e){return n(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&r&&(s({type:"UPDATE_ISSEARCHING",isSearching:!0}),f.a.get("https://www.reddit.com/r/".concat(r,"/hot.json?limit=10")).then((function(e){return e.data})).then((function(e){return e.data.children})).then((function(e){s({type:"UPDATE_POSTS",posts:e})})).then((function(){return s({type:"UPDATE_ISSEARCHING",isSearching:!1})})).catch((function(e){console.log(e),s({type:"UPDATE_ISSEARCHING",isSearching:!1})})))},icon:Object(o.jsx)(h.Search,{}),placeholder:"subreddit's name",size:"large",width:"100%"})})}),v=(r(483),function(e){var t=e.post,r=Object(a.useToasts)(),c=Object(b.a)(r,2)[1],n=Object(u.b)();return Object(o.jsx)(a.Row,{className:"search post",children:Object(o.jsx)(a.Card,{children:Object(o.jsxs)(a.Row,{align:"middle",children:[Object(o.jsxs)(a.Col,{span:23,children:[Object(o.jsx)("h4",{children:t.title}),Object(o.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:Object(o.jsx)("p",{children:t.url})})]}),Object(o.jsx)(a.Col,{span:1,children:Object(o.jsx)("span",{className:"favorite icon",onClick:function(){var e=!t.isFavorited;n(e?{type:"ADD_FAVORITE",post:{id:t.id,title:t.title,url:t.url,isFavorited:!0}}:{type:"REMOVE_FAVORITE",id:t.id}),c({text:e?"Post favorited.":"Post unfavorited.",type:e?"success":"error"})},children:t.isFavorited?Object(o.jsx)(h.HeartFill,{}):Object(o.jsx)(h.Heart,{})})})]})})})}),x=(r(484),function(e){var t=e.posts,r=e.type,c=Object(u.c)((function(e){return e.isSearching}));return Object(o.jsx)("div",{className:"search posts",children:c?Object(o.jsx)(a.Spinner,{size:"large"}):t&&t.length>0?Object(o.jsxs)(o.Fragment,{children:[!r&&Object(o.jsxs)("p",{children:[t.length," posts found ..."]}),t.map((function(e){return Object(o.jsx)(v,{post:e},e.id)}))]}):Object(o.jsx)(a.Row,{className:"search not-found",justify:"center",children:"nothing to see here."})})}),g=function(){var e=Object(u.c)((function(e){return e.posts})),t=Object(u.c)((function(e){return e.favorites})),r=Object(u.b)();return Object(c.useEffect)((function(){if(t&&0===t.length){var e=JSON.parse(localStorage.getItem("favorites"));e&&e.length>0&&r({type:"UPDATE_FAVORITES",posts:e})}}),[t,r]),Object(o.jsx)(a.Page.Content,{className:"content",children:Object(o.jsxs)(a.Tabs,{initialValue:"search",hideDivider:!0,children:[Object(o.jsxs)(a.Tabs.Item,{label:"Search",value:"search",children:[Object(o.jsx)(p,{}),Object(o.jsx)(x,{posts:e})]}),Object(o.jsx)(a.Tabs.Item,{label:"Favorites",value:"favorites",children:Object(o.jsx)(x,{posts:t,type:"favorites"})})]})})},S=function(){return Object(o.jsx)("div",{className:"app",children:Object(o.jsx)(d,{children:Object(o.jsx)(g,{})})})},m=r(60),E=r(129),T=r(29),y=r(66),A={posts:[],favorites:[],isSearching:!1},I=function(e,t,r){return Object(y.a)(e).map((function(e){return e.id===t&&(e.isFavorited=r),e}))},F=function(e){return localStorage.setItem("favorites",JSON.stringify(e)),e},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_POSTS":var r=t.posts.map((function(e){return{id:e.data.id,title:e.data.title,url:"https://www.reddit.com".concat(e.data.permalink),isStickied:e.data.stickied,isFavorited:!1}})).filter((function(e){return!e.isStickied}));return Object(T.a)(Object(T.a)({},e),{},{posts:r.map((function(t){var r,c=Object(E.a)(e.favorites);try{for(c.s();!(r=c.n()).done;){var n=r.value;if(t.id===n.id){t.isFavorited=!0;break}}}catch(s){c.e(s)}finally{c.f()}return t}))});case"UPDATE_FAVORITES":return Object(T.a)(Object(T.a)({},e),{},{favorites:t.posts});case"ADD_FAVORITE":return{posts:I(e.posts,t.post.id,!0),favorites:F([].concat(Object(y.a)(e.favorites),[t.post])),isSearching:e.isSearching};case"REMOVE_FAVORITE":return{posts:I(e.posts,t.id,!1),favorites:F(Object(y.a)(e.favorites).filter((function(e){return e.id!==t.id}))),isSearching:e.isSearching};case"UPDATE_ISSEARCHING":return Object(T.a)(Object(T.a)({},e),{},{isSearching:t.isSearching});default:return e}},R=Object(m.b)(P);i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsxs)(a.GeistProvider,{themeType:"dark",children:[Object(o.jsx)(a.CssBaseline,{}),Object(o.jsx)(u.a,{store:R,children:Object(o.jsx)(S,{})})]})}),document.getElementById("root"))}},[[485,1,2]]]);
//# sourceMappingURL=main.31d48db9.chunk.js.map